<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The Lore Health & Turn Counter</title>
<style>
 :root {
  /* Colors */
  --color-primary: #00bfa5;
  --color-primary-dark: #00806a;
  --color-danger: #e53935;
  --color-danger-dark: #ab2c27;
  --color-bg: rgba(18, 18, 18, 1);
  --color-text: #e0e0e0;

  /* Sizing */
  --font-size-base: 1rem;
  --font-size-large: 2.2rem;
  --font-size-xl: 4rem;
  --btn-padding-vertical: 0.8rem;
  --btn-padding-horizontal: 1.5rem;
  --btn-border-radius: 12px;
  --btn-width: 100px;
  --btn-gap: 1rem;
  --container-padding-vertical: 2rem;
  --container-padding-horizontal: 3rem;
  --min-container-width: 320px;
}

/* Use variables */
html, body {
  margin: 0;
  height: 100%;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  overflow: hidden;
  background-color: var(--color-bg);
  color: var(--color-text);
}

#container {
  background: rgba(0, 0, 0, 0.8);
  padding: var(--container-padding-vertical) var(--container-padding-horizontal);
  border-radius: 16px;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.9);
  text-align: center;
  z-index: 1;
  min-width: var(--min-container-width);
  position: relative;
}

.buttons {
  display: flex;
  gap: var(--btn-gap);
  max-width: max-content;
  flex-wrap: wrap;
  justify-content: center;
  margin: 0 auto;
}

button {
  flex: 0 0 var(--btn-width);
  border: none;
  border-radius: var(--btn-border-radius);
  color: #121212;
  font-size: var(--font-size-large);
  padding: var(--btn-padding-vertical) var(--btn-padding-horizontal);
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 0 10px;
  transition: background 0.3s ease, box-shadow 0.3s ease, color 0.3s ease;
  background: var(--color-primary);
  user-select: none;
  text-align: center;
  white-space: nowrap;
}

button:active {
  box-shadow: 0 0 20px inset;
}

button:disabled {
  background: #444;
  cursor: not-allowed;
  box-shadow: none;
  color: #888;
}

#reset {
  background: var(--color-danger) !important;
  color: white !important;
  box-shadow: 0 0 10px var(--color-danger) !important;
}

#reset:active {
  background: var(--color-danger-dark) !important;
  box-shadow: 0 0 20px var(--color-danger-dark) inset !important;
}

/* Turn container and buttons */

#turnContainer {
  position: fixed;
  top: 1rem;
  right: 1rem;
  background: rgba(0, 0, 0, 0.8);
  border-radius: 16px;
  box-shadow: 0 0 15px var(--color-primary);
  padding: 1rem 1.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  user-select: none;
  z-index: 1002;
  min-width: 110px;
}

#turnCounter {
  font-weight: 700;
  font-size: 1.4rem;
  color: var(--color-primary);
  margin-bottom: 0.6rem;
  min-width: 100%;
  text-align: center;
}

#turnButtons {
  display: flex;
  gap: 0.6rem;
  width: 100%;
  justify-content: center;
}

#turnButtons button {
  flex: 1 1 40px;
  font-size: 1.6rem;
  padding: 0.4rem 0;
  border-radius: var(--btn-border-radius);
  background: var(--color-primary);
  color: #121212;
  box-shadow: 0 0 10px var(--color-primary);
  cursor: pointer;
  border: none;
  font-weight: bold;
  user-select: none;
  transition: background 0.3s ease, box-shadow 0.3s ease;
}

#turnButtons button:active {
  box-shadow: 0 0 20px inset;
}

#turnButtons button:disabled {
  background: #444;
  cursor: not-allowed;
  box-shadow: none;
  color: #888;
}

/* Media queries for smaller devices */

@media (max-width: 500px) {
  :root {
    --btn-width: 70px;
    --font-size-large: 1.6rem;
    --btn-padding-vertical: 0.5rem;
    --btn-padding-horizontal: 1rem;
    --container-padding-vertical: 1.2rem;
    --container-padding-horizontal: 1.5rem;
  }

  #turnContainer {
    min-width: 90px;
    padding: 0.6rem 1rem;
  }

  #turnCounter {
    font-size: 1.1rem;
    margin-bottom: 0.4rem;
  }

  #turnButtons button {
    font-size: 1.3rem;
    padding: 0.3rem 0;
  }
}

@media (max-width: 350px) {
  :root {
    --btn-width: 60px;
    --font-size-large: 1.4rem;
    --btn-padding-vertical: 0.4rem;
    --btn-padding-horizontal: 0.8rem;
    --container-padding-vertical: 1rem;
    --container-padding-horizontal: 1rem;
  }

  #turnContainer {
    min-width: 70px;
    padding: 0.5rem 0.8rem;
  }

  #turnCounter {
    font-size: 1rem;
  }

  #turnButtons button {
    font-size: 1.1rem;
    padding: 0.25rem 0;
  }
}

</style>
</head>
<body>
  <video id="bgVideo" autoplay muted loop playsinline>
    <source src="https://i.imgur.com/SvvD34M.mp4" type="video/mp4" />
  </video>
  <div id="bgOverlay"></div>

  <select id="characterSelect" aria-label="Select your character">
    <option value="Natrolite">Natrolite</option>
    <option value="Cruise">Cruise</option>
    <option value="Spectre">Spectre</option>
    <option value="Figure">The Figure</option>
    <option value="Nimbus">Nimbus</option>
    <option value="Frost">Frost</option>
    <option value="Siphon">Siphon</option>
    <option value="Artemis">Artemis</option>
  </select>

  <button id="fullscreenToggle" aria-label="Toggle fullscreen" title="Toggle fullscreen"></button>

  <div id="container">
    <div id="playerName">Natrolite</div>
    <h1 id="hp">20</h1>
    <div class="buttons">
      <button id="decrease" aria-label="Decrease health by 1">-1</button>
      <button id="reset" aria-label="Reset health to 20 and turns to 0">Reset</button>
      <button id="increase" aria-label="Increase health by 1">+1</button>
    </div>
  </div>

  <div id="turnContainer" aria-live="polite" aria-atomic="true" role="region" aria-label="Turn counter">
    <div id="turnCounter">Turns: 0</div>
    <div id="turnButtons">
      <button id="turnDecrease" aria-label="Decrease turns by 1">-1</button>
      <button id="turnIncrease" aria-label="Increase turns by 1">+1</button>
    </div>
  </div>

  <button id="charInfoToggleBtn" aria-expanded="false" aria-controls="charInfoPanel" aria-label="Toggle character info panel">Character Info</button>
  <aside id="charInfoPanel" role="region" aria-live="polite" aria-atomic="true" aria-label="Character information panel">
    <h2 id="charName">Natrolite</h2>
    <h3>Role</h3>
    <p id="charRole">Tank / Damage Dealer</p>
    <h3>Passive Ability</h3>
    <p id="charPassive">Opponents lose 2 HP whenever they damage you.</p>
    <h3>Active Ability</h3>
    <p id="charActive">Discard ♦ to block all damage from one ♠ attack.</p>
  </aside>

  <button id="gameRulesToggleBtn" aria-expanded="false" aria-controls="gameRulesPanel" aria-label="Toggle game rules panel">Game Rules</button>
  <aside id="gameRulesPanel" role="region" aria-live="polite" aria-atomic="true" aria-label="Game rules panel">
<h2 style="color:#00bfa5;">Game Rules &amp; Card Mechanics Summary</h2>

<h3 style="color:#00bfa5;">Objective</h3>
<p>Win by either:</p>
<ul>
  <li>Being the last player standing with HP remaining, or</li>
  <li>Causing all other players to lose all their cards.</li>
</ul>
<p>You lose if:</p>
<ul>
  <li>Your HP reaches zero, or</li>
  <li>You run out of cards or forfeit by discarding all cards.</li>
</ul>

<h3 style="color:#00bfa5;">Card Suits &amp; Their Basic Functions</h3>
<p><strong>Spades (♠):</strong> Attack cards<br />
Damage activates at the end of the target’s next turn, allowing them time to counter.</p>

<p><strong>Hearts (♥):</strong> Healing cards<br />
Activate immediately when played.</p>

<p><strong>Diamonds (♦):</strong> Charge/Buff cards<br />
Can be played to charge (+4 value per card) by holding them until your next turn, or played instantly with one compatible non-club card to boost its effect.</p>

<p><strong>Clubs (♣):</strong> Special effect cards<br />
Trigger unique events that activate immediately. Clubs cannot be paired with diamonds.</p>

<h3 style="color:#00bfa5;">Turn Structure</h3>
<p>On your turn, perform only one action (ends your turn immediately):</p>
<ul>
  <li>Draw: Draw 1 card.</li>
  <li>Discard: Discard any number of cards.</li>
  <li>Play:
    <ul>
      <li>Play one card, OR</li>
      <li>Play multiple cards only if they form a valid poker hand (limited to 3 cards max), OR</li>
      <li>Play one diamond plus one non-club card (diamond boosts the other card).</li>
    </ul>
  </li>
</ul>

<h3 style="color:#00bfa5;">Valid Poker Hand Combos (up to 3 cards)</h3>
<ul>
  <li>Pair (2 cards, same rank)</li>
  <li>Three of a kind (3 cards, same rank)</li>
  <li>Flush (3 cards, same suit)</li>
  <li>Straight (3 cards, consecutive rank, any suits)</li>
</ul>
<p>Full house, four of a kind, etc., not allowed due to 3-card limit.</p>

<h3 style="color:#00bfa5;">Combo-Based Card Draw Bonuses</h3>
<p>When you play a valid poker hand combo, immediately draw cards as follows:</p>
<ul>
  <li>Pair (2 cards): Draw 1 card</li>
  <li>Three of a Kind (3 cards): Draw 2 cards</li>
  <li>Straight (3 cards): Draw 3 cards</li>
  <li>Flush (3 cards): Draw 4 cards</li>
</ul>
<p>Only one combo draw bonus per turn (no stacking if playing multiple combos).</p>

<h3 style="color:#00bfa5;">Diamond Card Draw Bonuses</h3>
<ul>
  <li>When you play a Diamond (♦) card together with a Spade (♠) or Heart (♥) card, draw 1 card immediately.</li>
  <li>When you play a charged Diamond card (held and charged until your next turn), draw 3 cards immediately.</li>
</ul>

<h3 style="color:#00bfa5;">Club Card Events</h3>
<p><strong>Jack (♣) — Double Draw:</strong> All players draw 2 cards.</p>
<p><strong>Queen (♣) — Energy Drain:</strong> All players’ cooldowns, counters, and powers reset; if none, discard 1 card.</p>
<p><strong>King (♣) — Silence Field:</strong> No Active abilities next round; passives still active.</p>
<p><strong>Ace (♣) — Wildcard Mastery:</strong></p>
<ul>
  <li>Play: Choose and apply any one club event immediately.</li>
  <li>Discard: Double one of your passive or active ability effects permanently.</li>
</ul>
<p><strong>Numbered Clubs (affect player + one opponent):</strong></p>
<ul>
  <li>2–5: Both discard 1 card or skip next draw phase.</li>
  <li>6–8: Combine hands, shuffle, redraw.</li>
  <li>9–10: Both discard entire hands and redraw.</li>
</ul>

<h3 style="color:#00bfa5;">Discarding Rules</h3>
<ul>
  <li>You may discard any number of cards at any time, regardless of hand size.</li>
  <li>Discarding all cards in your hand is an immediate forfeit.</li>
  <li>When you discard any Club card (except Ace), you immediately draw 2 cards.</li>
</ul>

<h3 style="color:#00bfa5;">Additional Notes</h3>
<p>Hearts and Clubs activate immediately; Spades activate delayed at target’s turn end; Diamonds activate instantly when paired or by charging.</p>
<p>Characters’ abilities interact with these mechanics uniquely.</p>

  </aside>

<script>
  const hpDisplay = document.getElementById('hp');
  const increaseBtn = document.getElementById('increase');
  const decreaseBtn = document.getElementById('decrease');
  const resetBtn = document.getElementById('reset');
  const characterSelect = document.getElementById('characterSelect');
  const playerName = document.getElementById('playerName');

  const turnCounter = document.getElementById('turnCounter');
  const turnIncreaseBtn = document.getElementById('turnIncrease');
  const turnDecreaseBtn = document.getElementById('turnDecrease');

  const fullscreenBtn = document.getElementById('fullscreenToggle');

  const charInfoToggleBtn = document.getElementById('charInfoToggleBtn');
  const charInfoPanel = document.getElementById('charInfoPanel');
  const charName = document.getElementById('charName');
  const charRole = document.getElementById('charRole');
  const charPassive = document.getElementById('charPassive');
  const charActive = document.getElementById('charActive');

  const gameRulesToggleBtn = document.getElementById('gameRulesToggleBtn');
  const gameRulesPanel = document.getElementById('gameRulesPanel');

  let hp = 20;
  let turns = 0;

  const colors = {
    Natrolite: '#9b59b6',
    Cruise: '#5dade2',
    Spectre: '#2c3e50',
    Figure: '#7f8c8d',
    Nimbus: '#ffeb3b',
    Frost: '#00bcd4',
    Siphon: '#a6d608',
    Artemis: '#b71c1c'
  };

  const characterInfo = {
    Natrolite: {
      role: 'Tank / Damage Dealer',
      passive: 'Opponents lose 2 HP whenever they damage you.',
      active: 'Discard ♦ to block all damage from one ♠ attack.'
    },
    Cruise: {
      role: 'Healer / Support',
      passive: '+2 HP healing on all ♥ cards you play.',
      active: 'Discard ♦ to disable an opponent’s defense for their next 2 turns.'
    },
    Spectre: {
      role: 'Trickster / Evasive',
      passive: 'Dodge or phase through an incoming attack every 3 turns.',
      active: 'Discard ♣ to swap hands with another player.'
    },
    Figure: {
      role: 'Disruptor / Controller',
      passive: 'Hallucination Field: At the start of each round, choose an opponent and select a card from their hand. That card is debuffed (effects nullified) until their turn ends.',
      active: 'Discard ♦ to make a player of your choice lose their passive ability until the end of your next turn.'
    },
    Nimbus: {
      role: 'Leader / Lightning',
      passive: 'Gain 1 Charge token whenever you discard a ♥ or ♠ (max 6).'
      Charged attack: 'For every 3 Charges, your next ♠ attack gains +4 damage per 3 Charges; consumes all Charges.',
      active: 'Discard two cards and guess the suit of the top deck card. If correct, draw 3 cards and gain 1 Charge token; if wrong, skip your current turn, losing the opportunity to play.'
    },
    Frost: {
      role: 'Crowd Control / Ice',
      passive: 'At the start of your turn, if you were damaged by a red card (♥ or ♦) last turn, permanently gain +1 damage to all your attacks.',
      active: 'Discard ♣ to stun a player (skip their next turn), or draw a card; if it’s a face card, freeze all opponents for 1 turn.'
    },
    Siphon: {
      role: 'Energy Drain / Utility',
      passive: 'Heal half the damage you deal with ♠ cards.',
      active: 'Discard ♣ to copy the last Active ability used by any player this turn.'
    },
    Artemis: {
      role: 'Tactical Disruptor / Precision Striker',
      passive: 'At the start of your turn, look at the top card of the deck. You may play any card as a ♠',
      active: 'Discard 1 card to force one opponent of your choice to reveal a random card from their hand'
    }
  };

  function updateDisplay() {
    hpDisplay.textContent = hp;

    // Update player name
    playerName.textContent = characterSelect.value;

    // Color theme for hp and playerName
    const color = colors[characterSelect.value] || '#00bfa5';
    playerName.style.color = color;
    playerName.style.textShadow = `0 0 10px ${color}`;

    hpDisplay.style.color = color;
    hpDisplay.style.textShadow = `0 0 8px ${color}`;

    // HP animations and styling
    hpDisplay.classList.remove('low-hp', 'zero-hp');
    if (hp <= 0) {
      hpDisplay.classList.add('zero-hp');
    } else if (hp <= 5) {
      hpDisplay.classList.add('low-hp');
    }

    // Update turn counter text
    turnCounter.textContent = `Turns: ${turns}`;

    // Update character info panel content
    const info = characterInfo[characterSelect.value];
    if (info) {
      charName.textContent = characterSelect.value;
      charRole.textContent = info.role;
      charPassive.textContent = info.passive;
      charActive.textContent = info.active;
    }
  }

  increaseBtn.addEventListener('click', () => {
    hp++;
    if(hp > 30) hp = 30; // cap max HP
    updateDisplay();
  });

  decreaseBtn.addEventListener('click', () => {
    if (hp > 0) {
      hp--;
      updateDisplay();
    }
  });

  resetBtn.addEventListener('click', () => {
    hp = 20;
    turns = 0;
    updateDisplay();
  });

  turnIncreaseBtn.addEventListener('click', () => {
    turns++;
    updateDisplay();
  });

  turnDecreaseBtn.addEventListener('click', () => {
    if (turns > 0) {
      turns--;
      updateDisplay();
    }
  });

  characterSelect.addEventListener('change', () => {
    hp = 20; // reset HP on character change
    turns = 0; // reset turns on character change
    updateDisplay();
  });

  charInfoToggleBtn.addEventListener('click', () => {
    const isOpen = charInfoPanel.classList.toggle('open');
    charInfoToggleBtn.setAttribute('aria-expanded', isOpen);
  });

  gameRulesToggleBtn.addEventListener('click', () => {
    const isOpen = gameRulesPanel.classList.toggle('open');
    gameRulesToggleBtn.setAttribute('aria-expanded', isOpen);
  });

  fullscreenBtn.addEventListener('click', () => {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
      fullscreenBtn.title = "Exit fullscreen";
    } else if (document.exitFullscreen) {
      document.exitFullscreen();
      fullscreenBtn.title = "Enter fullscreen";
    }
  });

  // Initialize display on page load
  updateDisplay();
</script>
</body>
</html>
